<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>重力实验</title>
	<style type="text/css">
		#canvas{
			display: block;
			margin: 0 auto;
			/*width: 800px;
			在样式表里设置的宽高和在js里设置是不一样的 应当从js设置或者在标签里直接设置
			canvas跟其他标签一样，也可以通过css来定义样式。但这里需要注意的是：canvas的默认宽高为300px * 150px,在css中为canvas定义宽高，实际上把宽高为300px * 150px的画布进行了拉伸，如果在这样的情况下进行canvas绘图，你得到的图形可能就是变形的效果。所以，在canvas绘图时，应该在canvas标签里直接定义宽高
			height: 500px;*/
			border: 1px solid #CCC;
		}
	</style>
</head>
<body>
	<canvas id="canvas">
		###
	</canvas>
</body>
<script type="text/javascript">
	window.onload = function(){
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext("2d");

		canvas.width = 800;
		canvas.height = 500;
		ctx.fillStyle = "#000";
		var ball = {x:500,y:100,r:10,vx:-8,vy:-10,a:2};
		
		setInterval(function(){
			drawBall(ball,ctx);
			drop(ball);
		},50);
	}
	function drop(ball){
		ball.vy += ball.a;
		ball.x = ball.x + ball.vx;
		ball.y = ball.y + ball.vy;
		if(ball.y >= canvas.height - ball.r){
			ball.y = canvas.height - ball.r;
			ball.vy = - Math.floor(ball.vy * 0.5);
			console.log(ball.vy)
		}
	}

	function drawBall(ball,ctx){
		ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
		ctx.beginPath();
		ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
		ctx.fill();
	}
</script>
</html>